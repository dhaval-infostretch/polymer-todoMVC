
<polymer-element name="my-message-element" attributes="text todos checked">
    
  <template>
      <style>
        #new-todo {
	padding: 16px 0px 16px 0px;
        text-indent: 40px;
	border: none;
	background: rgba(0, 0, 0, 0.003);
	box-shadow: inset 0 -2px 1px rgba(0,0,0,0.03);
        width: 100%;
}
input::-webkit-input-placeholder {
	font-style: italic;
	font-weight: 300;
        font-size: large;
	color: #e6e6e6;
        text-align: center;
        line-height: 100%;
        
}

input::-moz-placeholder {
	font-style: italic;
	font-weight: 300;
        font-size: large;
	color: #e6e6e6;
        text-align: center;
        height: 100%;
        line-height: 100%;
}

input::input-placeholder {
	font-style: italic;
	font-weight: 300;
        font-size: large;
	color: #e6e6e6;
       text-align: center;
       height: 100%;
        line-height: 100%;
}
#toggle-all {
	position: absolute;
	top:13px;
        width: 30px;
	height: 17px;
	text-align: center;
	border: none; /* Mobile Safari */
}

#toggle-all:before {
	font-size: 22px;
	color: #e6e6e6;
	padding: 10px 27px 10px 27px;
}

#toggle-all:checked:before {
	color: #737373;
}
    </style>
        <div id="todo-form">
            <template if="{{todos.length > 0}}">
                <input id="toggle-all" type="checkbox" on-change="{{checkAll}}" />
            </template>
            <input autocomplete="off" type="text" id="new-todo" on-keypress="{{submitTodo}}" name="message" placeholder="What needs to be done?" value="{{text}}" />                   
      </div>
    
  </template>
    <script>
        Polymer('my-message-element',{
            publish:{
                checked:false
            },
            submitTodo:function(e,detail,sender){
                if(e.keyCode === 13){
                sender.value="";    
                sender.blur();    
                var template = document.querySelector('template[is=auto-binding]');
                template.incompleteTodo=0;
                this.todos.push({todoText:template.text,status:false});
                for(var i=0;i<template.todos.length;i++){
                    if(!template.todos[i].status){
                        template.incompleteTodo+=1;
                    }
                }    
                     }
                
                
            },
            checkAll:function(event,detail,sender){
                this.checked=sender.checked;
            },
        });
    //    submitTodo:function(event,detail,sender){

  //          }
    </script>
</polymer-element>
